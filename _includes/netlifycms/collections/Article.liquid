{% raw %}
- name: "articles"
  label: "Articles"
  label_singular: "Article"
  folder: "_articles/"
  i18n:
    structure: multiple_folders
    locales: *locales
  create: true # Allow users to create new documents in this collection
  slug: "{{uid}}" # Filename template, e.g., YYYY-MM-DD-title.md
  sort: "article-order:asc"
  view_filters:
    - label: Article order
      field: article-order
      pattern: 'This is article #'
    - label: Article category
      field: category
      pattern: front matter category
    - label: By Volume
      field: volume-uid
      pattern: true
  view_groups:
    - label: Journal Volume
      field: volume-uid
    - label: Category
      field: category
  editor:
    preview: true
  fields: # The fields for each document, usually in front matter
    - { label: "Layout", name: "layout", widget: "hidden", default: "article", i18n: duplicate }
    - { label: "Article order", name: "article-order", widget: "number", default: 0, value_type: "int", min: 1, max: 101, step: 1, i18n: duplicate }
    - { label: "Title", name: "title", widget: "string", i18n: translate }
    - label: "Description"
      hint: "Principalmente usado para SEO"
      name: "description"
      widget: "string"
      i18n: translate
    - { label: "Publish Date", name: "date", widget: "date", i18n: duplicate }
    - { label: "Slug", name: "uid", widget: "string", i18n: duplicate }
    - {
        label: "Category",
        name: "category",
        widget: "select",
        options: [
          { label: "Blueprints", value: "blueprints" },
          { label: "Deep dives", value: "deep-dives" },
          { label: "Interviews", value: "interviews" },
          { label: "Reports", value: "reports" },
          { label: "Stories", value: "stories" }
        ],
        i18n: duplicate
      }
    - label: Entrevistado
      name: "interviewee"
      hint: "Añadir el nombre del entrevistado, si la categoria es Interviews"
      widget: "string"
      required: false
      i18n: duplicate
    - {
        label: "Author",
        name: "author",
        widget: "relation",
        collection: "authors",
        display_fields: [name],
        search_fields: [name],
        value_field: "uid",
        i18n: duplicate
      }
    - {
        label: "Journal Volume",
        name: "volume-uid",
        widget: "relation",
        collection: "volumes",
        display_fields: [title],
        search_fields: [title],
        value_field: "uid",
        i18n: duplicate
      }
    - label: "Main image"
      name: "cover"
      widget: "object"
      i18n: true
      fields:
        - {
            label: "Hero Image",
            hint: Imagen de portada,
            name: "path",
            widget: "image",
            choose_url: true,
            default: "/assets/media/no_image-hero.png",
            media_library: { config: { multiple: false } },
            media_folder: "/media/articles/heroes",
            i18n: duplicate
          }
        - {
            label: "Thumbnail Image",
            hint: Imagen pequeña usada en listas,
            name: "thumbnail",
            widget: "image",
            choose_url: true,
            default: "/assets/media/no_image-thumbnail.png",
            media_library: { config: { multiple: false } },
            media_folder: "/media/articles/thumbnails",
            i18n: duplicate
          }
        - { label: "Image alt text", name: "alt", widget: "string", i18n: translate }
        - { label: "Image Credits", name: "credits", widget: "string", i18n: translate }
        - { label: "Image Caption", name: "caption", widget: "string", i18n: translate }
    - label: "Article Body"
      name: "body"
      widget: "markdown"
      editor_components: ["image", "gallery", "quote-tag", "file-tag", "documents-tag", "links-tag", "numbers-tag", "collapsible-note", "videos"]
      i18n: true

    - label: "Related articles"
      name: related_articles_uid
      widget: "list"
      required: false
      i18n: false # todo: duplicate to other locales
      field:
        label: "Related article"
        name: related_article_uid
        widget: relation
        collection: articles
        display_fields: [title]
        search_fields: [title, uid]
        value_field: uid
        i18n: duplicate
    - label: "Stickers"
      name: "stickers"
      widget: "object"
      collapsed: true
      i18n: true
      fields:
        - label: "Stickers Layout"
          name: layout
          widget: select
          default: layout-none
          options:
            - label: No stickers
              value: layout-none
            - label: Top left, bottom right
              value: layout-one
            - label: Bottom left, top right
              value: layout-two
          i18n: duplicate
        - label: Sticker One
          name: sticker_one
          widget: relation
          collection: stickers
          display_fields: [emoji]
          search_fields: [name]
          value_field: path
          i18n: duplicate
          required: false
        - label: "Sticker One: Animation"
          name: sticker_one_animation
          widget: select
          default: animation-none
          options: &sticker-animations
            - label: No animation
              value: animation-none
            - label: Glitch
              value: animation-glitch
            - label: Breathe
              value: animation-breathe
          i18n: duplicate
        - label: Sticker Two
          name: sticker_two
          widget: relation
          collection: stickers
          display_fields: [emoji]
          search_fields: [name]
          value_field: path
          i18n: duplicate
          required: false
        - label: "Sticker Two: Animation"
          name: sticker_two_animation
          widget: select
          default: animation-none
          options: *sticker-animations
          i18n: duplicate
    - label: "Call to action"
      name: call_to_action
      widget: relation
      collection: call_to_actions
      display_fields: [uid]
      search_fields: [uid]
      value_field: uid
      i18n: duplicate
    - label: "Share image"
      name: image
      hint: Se verá cuando el artículo sea compartido en redes sociales, como previsualización del enlace
      widget: object
      i18n: true
      required: false
      fields:
        - label: Image
          hint: "Las imágenes para las 'summary cards' deben ser de 144px × 144px y de un tamaño menor o igual a 1MB."
          name: path
          widget: image
          default: "/assets/media/no_image-social_media.png"
          media_library: { config: { multiple: false } }
          media_folder: "/media/volumes/social"
          i18n: duplicate

        - label: "Image alt text"
          name: alt
          widget: string
          i18n: translate
{% endraw %}
