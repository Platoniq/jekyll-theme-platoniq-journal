{% raw %}
- name: "articles"
  label: "Artículos"
  label_singular: "Artículo"
  folder: "_articles/"
  i18n:
    structure: multiple_folders
    locales: *locales
  create: true # Allow users to create new documents in this collection
  slug: "{{uid}}" # Filename template, e.g., YYYY-MM-DD-title.md
  sort: "article-order:asc"
  view_filters:
    - label: Orden del artículo
      field: article-order
      pattern: 'This is article #'
    - label: Categoría
      field: category
      pattern: front matter category
    - label: Volumen del Journal
      field: volume-uid
      pattern: true
  view_groups:
    - label: Volumen del Journal
      field: volume-uid
    - label: Categoría
      field: category
  editor:
    preview: true
  fields: # The fields for each document, usually in front matter
    - { label: "Layout", name: "layout", widget: "hidden", default: "article", i18n: duplicate }
    - {
      label: "Volumen del Journal",
      name: "volume-uid",
      widget: "relation",
      collection: "volumes",
      display_fields: [title],
      search_fields: [title],
      value_field: "uid",
      i18n: duplicate
    }
    - {
      label: "Categoría",
      name: "category",
      widget: "select",
      options: [
        { label: "Blueprints", value: "blueprints" },
        { label: "Deep dives", value: "deep-dives" },
        { label: "Interviews", value: "interviews" },
        { label: "Reports", value: "reports" },
        { label: "Stories", value: "stories" }
      ],
      i18n: duplicate
    }
    - { label: "Fecha de publicación", name: "date", widget: "date", i18n: duplicate }
    - { label: "Orden del artículo", name: "article-order", widget: "number", default: 0, value_type: "int", min: 1, max: 101, step: 1, i18n: duplicate }
    - { label: "Slug", name: "uid", widget: "string", i18n: duplicate }
    - { label: "Título", name: "title", widget: "string", i18n: translate }
    - label: "Descripción o resumen del artículo"
      hint: "Principalmente usada para SEO"
      name: "description"
      widget: "string"
      i18n: translate
    - {
      label: "Autorx",
      name: "author",
      widget: "relation",
      collection: "authors",
      display_fields: [name],
      search_fields: [name],
      value_field: "uid",
      i18n: duplicate
    }
    - label: Entrevistadx
      name: "interviewee"
      hint: "Añadir el nombre de la persona entrevistada, si la categoría es 'Interviews'"
      widget: "string"
      required: false
      i18n: duplicate
    
    - label: "Portada"
      name: "cover"
      widget: "object"
      i18n: true
      fields:
        - {
            label: "Portada",
            hint: Imagen de portada,
            name: "path",
            widget: "image",
            choose_url: false,
            default: "/assets/media/no_image-hero.png",
            media_library: { config: { multiple: false } },
            media_folder: "/media/articles/heroes",
            i18n: duplicate
          }
        - {
            label: "Portada (reducida)",
            hint: Imagen pequeña usada en listas,
            name: "thumbnail",
            widget: "image",
            choose_url: false,
            default: "/assets/media/no_image-thumbnail.png",
            media_library: { config: { multiple: false } },
            media_folder: "/media/articles/thumbnails",
            i18n: duplicate
          }
        - { label: "Texto alternativo a la imagen", name: "alt", widget: "string", i18n: translate }
        - { label: "Créditos de la imagen", name: "credits", widget: "string", i18n: translate }
        - { label: "Pie de imagen", name: "caption", widget: "string", i18n: translate }
    - label: "Contenido del artículo"
      name: "body"
      widget: "markdown"
      editor_components: ["gallery", "quote-tag", "file-tag", "documents-tag", "links-tag", "numbers-tag", "questions-tag"]
      i18n: true
    - label: "Artículos relacionados"
      name: related_article_uids
      widget: "list"
      required: false
      i18n: false # todo: duplicate to other locales
      field:
        label: "Artículo relacionado"
        name: related_article_uid
        widget: relation
        collection: articles
        display_fields: [title]
        search_fields: [title, uid]
        value_field: uid
        i18n: duplicate
    - label: "Stickers"
      name: "stickers"
      widget: "object"
      collapsed: true
      i18n: true
      fields:
        - label: "Posición de los stickers"
          name: layout
          widget: select
          default: layout-none
          options:
            - label: Sin stickers
              value: layout-none
            - label: ↖️ + ↘️ Superior izquierda, inferior derecha
              value: layout-one
            - label: ↙️ + ↗️ Inferior izquieda, superior derecha
              value: layout-two
          i18n: duplicate
        - label: Sticker Uno
          name: sticker_one
          widget: relation
          collection: stickers
          display_fields: [emoji]
          search_fields: [name]
          value_field: path
          i18n: duplicate
          required: false
        - label: "Sticker Uno: Animación"
          name: sticker_one_animation
          widget: select
          default: animation-none
          options: &sticker-animations
            - label: Sin animación
              value: animation-none
            - label: Glitch
              value: animation-glitch
            - label: Breathe
              value: animation-breathe
          i18n: duplicate
        - label: Sticker Dos
          name: sticker_two
          widget: relation
          collection: stickers
          display_fields: [emoji]
          search_fields: [name]
          value_field: path
          i18n: duplicate
          required: false
        - label: "Sticker Dos: Animación"
          name: sticker_two_animation
          widget: select
          default: animation-none
          options: *sticker-animations
          i18n: duplicate
    - label: "Call to action"
      name: call_to_action
      widget: relation
      collection: call_to_actions
      display_fields: [uid]
      search_fields: [uid]
      value_field: uid
      i18n: duplicate
    - label: "Imagen de previsualización"
      name: image
      hint: Se verá cuando el artículo sea compartido en redes sociales, como previsualización del enlace
      widget: object
      i18n: true
      required: false
      fields:
        - label: Imagen
          hint: "Las imágenes para las 'summary cards' deben ser de 144px × 144px y de un tamaño menor o igual a 1MB."
          name: path
          widget: image
          default: "/assets/media/no_image-social_media.png"
          media_library: { config: { multiple: false } }
          media_folder: "/media/volumes/social"
          i18n: duplicate

        - label: "Texto alternativo a la imagen"
          name: alt
          widget: string
          i18n: translate
{% endraw %}
